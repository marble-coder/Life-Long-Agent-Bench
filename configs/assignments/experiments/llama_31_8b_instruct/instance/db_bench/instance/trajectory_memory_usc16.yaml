import:
- ../task.yaml
- ../../../agent.yaml
- ../../../../../../definition.yaml
- ../../../../../../components/callbacks/trajectory_memory_callback.yaml

assignment_config:
  callback_dict:
    callback_0:
      name: current_session_saving_callback
    callback_1:
      name: consecutive_abnormal_agent_inference_process_handling_callback
    callback_2:
      name: trajectory_memory_callback
      custom_parameters:
        top_k: 5  # æ£€ç´¢æ—¶æ³¨å…¥çš„è®°å¿†æ¡æ•°
        summary_max_items: 3
        embedding_device: "cuda"  # æ—  GPU å¯æ”¹ä¸º "cpu"
        embedding_model_name: "/home/admin123/dhl/LLaMA-Factory/models/all-MiniLM-L6-v2"  # æœ¬åœ°Embeddingæ¨¡å‹è·¯å¾„
        prompt_config_path: "./configs/components/prompts/trajectory_memory_prompt.yaml"
        require_completed_status: false  # å³ä½¿ä»»åŠ¡æœªå®Œæˆä¹Ÿæ€»ç»“memory
        inject_marker: "\n\n================================================================================\nâš ï¸  CRITICAL: LESSONS FROM PREVIOUS ATTEMPTS âš ï¸\nThe following memory items are extracted from real successful and failed trajectories.\nThese represent common pitfalls and proven strategies. You MUST carefully review and apply them.\nIgnoring these lessons may lead to task failure.\n================================================================================\n"
        inject_end_marker: "\n================================================================================\nâš ï¸  END OF CRITICAL LESSONS - APPLY THEM AT EVERY STEP âš ï¸\n================================================================================\n\nğŸ” Before you begin: Review the lessons above and identify which ones are relevant.\nğŸ’¡ During execution: Check if any lesson applies before making each decision.\n"
  output_dir: outputs/{TIMESTAMP}
  sample_order: default

environment_config:
  use_task_client_flag: false
